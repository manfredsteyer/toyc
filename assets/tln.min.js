var e={eventList:{},update_line_numbers:function e(n,t){var r=n.value.split("\n").length-t.children.length;if(0<r){for(var l=document.createDocumentFragment();0<r;){var i=document.createElement("span");i.className="tln-line";l.appendChild(i);r--}t.appendChild(l)}for(;0>r;){t.removeChild(t.firstChild),r++}},append_line_numbers:function n(t){var r=document.getElementById(t);if(null==r)return console.warn("[tln.js] Couldn't find textarea of id '"+t+"'");if(-1!=r.className.indexOf("tln-active"))return console.warn("[tln.js] textarea of id '"+t+"' is already numbered");r.classList.add("tln-active");r.style={};var l=document.createElement("div");r.parentNode.insertBefore(l,r);l.className="tln-wrapper";e.update_line_numbers(r,l);e.eventList[t]=[];for(var i=["propertychange","input","keydown","keyup"],o=function(n,t){return function(r){if(10==+n.scrollLeft&&(37==r.keyCode||37==r.which||"ArrowLeft"==r.code||"ArrowLeft"==r.key)||36==r.keyCode||36==r.which||"Home"==r.code||"Home"==r.key||13==r.keyCode||13==r.which||"Enter"==r.code||"Enter"==r.key||"NumpadEnter"==r.code)n.scrollLeft=0;e.update_line_numbers(n,t)}}(r,l),a=i.length-1;0<=a;a--){r.addEventListener(i[a],o),e.eventList[t].push({evt:i[a],hdlr:o})}i=["change","mousewheel","scroll"];l=function(e,n){return function(){n.scrollTop=e.scrollTop}}(r,l);for(o=i.length-1;0<=o;o--){r.addEventListener(i[o],l),e.eventList[t].push({evt:i[o],hdlr:l})}},remove_line_numbers:function n(t){var r=document.getElementById(t);if(null==r)return console.warn("[tln.js] Couldn't find textarea of id '"+t+"'");if(-1==r.className.indexOf("tln-active"))return console.warn("[tln.js] textarea of id '"+t+"' isn't numbered");r.classList.remove("tln-active");r.previousSibling.remove();if(e.eventList[t]){for(var l=e.eventList[t].length-1;0<=l;l--){var i=e.eventList[t][l];r.removeEventListener(i.evt,i.hdlr)}delete e.eventList[t]}}};